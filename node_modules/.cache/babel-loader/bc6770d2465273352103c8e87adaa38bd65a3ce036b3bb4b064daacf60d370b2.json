{"ast":null,"code":"import css from'./Tweets.module.css';import Card from'components/Card';import LoadMoreButton from'components/LoadMoreButton';import Loader from'components/Loader/Loader';import{useSelector,useDispatch}from'react-redux';import{Link}from\"react-router-dom\";import{store}from\"redux/store.js\";import{useEffect}from\"react\";import{fetchUsers}from\"redux/users/operations\";import{resetLimit}from\"redux/currentLimit/currentLimitSlice\";import{selectUsers,selectIsLoading,selectError}from'redux/users/selectors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Tweets=function Tweets(){var dispatch=useDispatch();var users=useSelector(selectUsers);var isLoading=useSelector(selectIsLoading);var error=useSelector(selectError);var state=store.getState();var limit=state.currentLimit.limit;useEffect(function(){dispatch(fetchUsers(limit));},[dispatch,limit]);return/*#__PURE__*/_jsxs(\"div\",{className:css.container,children:[isLoading&&!error&&/*#__PURE__*/_jsx(Loader,{visible:true}),/*#__PURE__*/_jsx(\"ul\",{className:css.users,children:users.length>0&&users.map(function(_ref){var user=_ref.user,id=_ref.id,avatar=_ref.avatar,followers=_ref.followers,tweets=_ref.tweets,isFollowed=_ref.isFollowed;return/*#__PURE__*/_jsx(\"li\",{className:css.users_item,children:/*#__PURE__*/_jsx(Card,{user:user,avatar:avatar,followers:followers,tweets:tweets,id:id,isFollowed:isFollowed})},id);})}),/*#__PURE__*/_jsxs(\"div\",{className:css.buttons,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:css.button,onClick:function onClick(){dispatch(resetLimit());},children:\"Back\"}),limit>0&&limit<12&&/*#__PURE__*/_jsx(LoadMoreButton,{})]})]});};export default Tweets;","map":{"version":3,"names":["css","Card","LoadMoreButton","Loader","useSelector","useDispatch","Link","store","useEffect","fetchUsers","resetLimit","selectUsers","selectIsLoading","selectError","jsx","_jsx","jsxs","_jsxs","Tweets","dispatch","users","isLoading","error","state","getState","limit","currentLimit","className","container","children","visible","length","map","_ref","user","id","avatar","followers","tweets","isFollowed","users_item","buttons","to","button","onClick"],"sources":["C:/Users/chemv/OneDrive/Documents/GitHub/React/test-task-tweetcards/test-task-tweetcards/src/pages/Tweets/Tweets.jsx"],"sourcesContent":["import css from './Tweets.module.css';\r\nimport Card from 'components/Card';\r\nimport LoadMoreButton from 'components/LoadMoreButton';\r\nimport Loader from 'components/Loader/Loader';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from \"react-router-dom\";\r\nimport { store } from \"redux/store.js\";\r\n\r\n\r\nimport { useEffect } from \"react\";\r\nimport { fetchUsers } from \"redux/users/operations\";\r\nimport { resetLimit } from \"redux/currentLimit/currentLimitSlice\";\r\nimport { selectUsers, selectIsLoading, selectError } from 'redux/users/selectors';\r\n\r\nconst Tweets = () => {\r\n\r\nconst dispatch= useDispatch();\r\n\r\n     const users=useSelector(selectUsers);\r\n     const isLoading = useSelector(selectIsLoading);   \r\n     const error = useSelector(selectError);\r\n     const state = store.getState();\r\n     const limit=state.currentLimit.limit;\r\n\r\n     useEffect(() => {\r\n           \r\n      dispatch(fetchUsers(limit));\r\n     \r\n     }, [dispatch, limit]);\r\n\r\n\r\n\r\n  \r\n \r\n    return (<div className={css.container}>\r\n\r\n{isLoading && !error && <Loader visible={true}/>}\r\n          <ul className={css.users}>\r\n       { users.length>0 && users\r\n             .map(({  user,\r\n                id,\r\n                avatar,\r\n                followers,\r\n                tweets,isFollowed }) => (\r\n                    <li key={id} className={css.users_item}>\r\n                          <Card  user={user} avatar={avatar} followers={followers}\r\n       tweets={tweets}\r\n        id={id} isFollowed={isFollowed}/>\r\n                    </li>\r\n      \r\n             ))}\r\n        </ul>\r\n\r\n        <div className={css.buttons}>\r\n           <Link to=\"/\" className={css.button} onClick={() => { dispatch(resetLimit()) }}>Back</Link>\r\n        {limit>0&&limit<12&&<LoadMoreButton/>}\r\n        </div>\r\n\r\n       \r\n    </div>\r\n      \r\n    );\r\n};\r\n\r\nexport default Tweets;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}